# ALIASES

# import some private aliases like access to SSH accounts
source ~/bin/dotfiles/bash/private-aliases

take () {
    mkdir $1
    cd $1
}

# ls commands
alias disks='df -h'
alias du="du -h"
alias memory='free -m'
alias network="netstat -ap"
alias whatsmyip="curl -s checkip.dyndns.org|sed -e 's/.*Current IP Address: //' -e 's/<.*$//'"
alias servstats='sudo service --status-all'
alias process='top'
alias top_process="ps -eo pcpu,pid,user,args | sort -k 1 -r | head -10"
alias destroy='kill -9'

alias ls='ls -F --color=always'
alias dir='dir -F --color=always'
alias ll='ls -lh'
alias lla='ll -a'

alias cp='cp -i'
#alias rm='rm -i'
alias mv='mv -i'

alias grep='grep --color=auto -in --exclude-dir ".svn" --exclude-dir ".git" --exclude tagsi'

alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ~='cd ~'
alias home='cd ~'
alias -='cd -'
alias back='cd -'
alias cc='clear'

# Aptitude
alias agi="apt-get install"
alias agua="apt-get update"
alias agup="apt-get upgrade"
alias aguap="apt-get update && apt-get upgrade"
alias adel=" apt-get remove"
alias asearch="apt-cache search"

# Archive
alias untar="tar -xvf"
alias ungz="gunzip"
alias unzip2="bzip2 -d"
alias untargz="tar -zxvf"
alias untarbz1="tar -jxvf"
alias ungz2="bunzip2 -k"

# Git
alias gbrn="git branch -m" # Rename a branch
alias gcm="git commit -m"
alias gcob="git checkout -b"
alias gpu="git push -u"
alias gcom="git checkout master"
alias gstk="git stash -k" # Stash the unstaged changes only
alias gstu="git stash -u" # Stash the untracked files
alias gup_master="git checkout master && git fetch origin && git pull origin master"
gbdo () { # Delete branch from remote origin
    if [[ -n $1]]; then
        git push origin :$1
    else
        echo -n 'You must provide a branch name to delete from origin remote'
    fi
}
gcbo () { # Create new branch with tracking from origin
    local checkout2Master=$(gcom 2&>/dev/null)
    if [[ -n $1]]; then
        if [ $checkout2Master -eq 0 ]; then
            git checkout -b $1 origin/$1
        fi
    else
        echo -n 'You must provide a branch name to pull up from origin remote'
    fi
}
gcobo () { # Create new branch and create push with remote tracking from origin
    local checkout2Master=$(gcom 2&>/dev/null)
    if [[ -n $1]]; then
        if [ $checkout2Master -eq 0 ]; then
            gcob $1
            gpu origin $1
        fi
    else
        echo -n 'You must provide a branch name to create and push to origin remote'
    fi
}
gbrn_hard () { # Rename a branch, delete remote branch & create brand new one from remote origin
    local checkout2Master=$(gcom 2&>/dev/null)
    if [[ -n $1]]; then
        if [ $checkout2Master -eq 0 ]; then
            gbdo $1
            gb -D $1
            gcobo $1
        fi
    else
        echo -n 'You must provide a branch name to delete from origin remote'
    fi
}

# The variable $MY_EDITOR must be set on the file ~/bin/dotfiles/bash/private-aliases
# otherwise it will be set by defaut to the nano editor
if [[ -z $MY_EDITOR ]]; then
    MY_EDITOR='nano'
fi

# The variable $PHP_INI_PATH must be set on the file ~/bin/dotfiles/bash/private-aliases
# otherwise it will be set by defaut to the known location of PHP 5 ini file
if [[ -z $PHP_INI_PATH ]]; then
    PHP_INI_PATH='/etc/php5/cli/php.ini'
fi

# Update Bash & Zsh rcs if they exists
update_rcs() {
    if [[ ! -z $BASH_VERSION ]]; then
        source ~/.bashrc
    elif [[ ! -z $ZSH_VERSION ]]; then
        source ~/.zshrc
    fi
}

# edit hosts and vhosts
## xampp case
XAMPP_COMMAND_STATE=$(xampp 2&>/dev/null)
if [ XAMPP_COMMAND_STATE -eq 0]; then
    alias xampp='sudo xampp'
    alias xampp_logg='tail -f /opt/lampp/logs/error_log'
    alias xampp_vhosts="sudo $MY_EDITOR /opt/lampp/etc/extra/httpd-vhosts.conf"
    alias xampp_phpini="sudo $MY_EDITOR /opt/lampp/etc/php.ini"
else
    alias xampp='sudo service apache2'
    alias xampp_error_logg='tail -f /var/logs/apache2/error.log'
    alias xampp_access_logg='tail -f /var/logs/apache2/access.log'
fi
alias xampp_start='xampp start'
alias xampp_stop='xampp stop'
alias xampp_restart='xampp restart'

alias hosts="sudo $MY_EDITOR /etc/hosts"

# PHP
alias phpini_cli="sudo $MY_EDITOR $PHP_INI_PATH"

# Composer
alias get_composer='curl -sS https://getcomposer.org/installer | php'
alias composer='php composer.phar'
alias composer_update='composer self-update'

# Symfony1.4 commands
alias symfony='php symfony'
alias sf_project='php lib/vendor/symfony/symfony1/data/bin/symfony generate:project' #My symfony 1.4's files are always placed on lib/vendor directory of the project
alias sf_app='symfony generate:app'
alias sf_module='symfony generate:module'
alias sf_schema='symfony doctrine:build-schema'
alias sf_model='symfony doctrine:build-model'
alias sf_forms='symfony doctrine:build-forms'
alias sf_classes='symfony doctrine:build --all-classes'
alias sf_build_all='symfony doctrine:build --all --no-confirmation'
alias sf_cc='symfony cc'
alias sf_clear='sf_cc'
alias sf_create_cache='mkdir cache && chmod -R 777 cache'
alias sf_create_log='mkdir log && chmod -R 777 log'


# Symfony2 commands
alias sf2_console='php app/console'
alias sf2_cc='sudo rm -rf app/cache/* && sudo chmod -R 777 app/cache/ app/logs/'
alias sf2_fix='sudo chown -R zakaria:zakaria app/cache/ app/logs/'
alias sf2_clear='sf2_cc'
alias sf2_cc_fix='sf2_cc && sf2_fix && gco app/cache/.gitkeep app/logs/.gitkeep'

# Serve commands
alias ptserve='python -m SimpleHTTPServer'

# install latest node & npm
alias get_latest_npm='sudo npm cache clean -f && sudo npm install -g n && sudo n stable'

# Usefull fixes
alias grunt_watch_fix='echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf && sudo sysctl -p' #This is to fix grunt watch task with the warning watch ENOSPC

# Ubuntu commands
alias ubuntu_version='lsb_release -r'
